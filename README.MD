# Шаблон для телеграм бота

!!! Пока что в стадии создания !!!

## Основные фичи:
 - Асинхронный
 - Докеризирован
 - БД Postgresql
 - Grafana для визуализации данных
 - Redis для хранения кэша
 - Dozzle для удобного просмотра логов докер контейнеров
 - Интегрирован aiogram-dialog
 - Реализован диалог для админов "broadcast" для удобных рассылок через диалог с ботом. (команда /broadcast)
 - В бд записываются данные пользователей, которые присылает телеграм, а также время регистрации в боте, время последней активности, забенен/не забанен в боте (команда /ban для админов), активен/не активен (не активен - если заблокировал бота)
 - Нет глобалов. Все зависимости прокидываются через мидлвари.

## TODO
 - [x] Миграции БД с помощью alembic
 - [ ] Настроить вебхуки (пока что бот работает на лонг поллинге)
 - [ ] Настроить nginx для для безопасного доступа к grafana, dozzle. Что-то типа grafana.mybotdomain.ru (пока что доступ ко всем дополнительным сервисам через localhost)
 - [ ] Настроить горизонтальное маштабирование путем добавления новых инстансов в кластер (docker compose) (только после настройки вебхуков). А также настройка балансировки нагрузки в nginx
 - [ ] Сделать резервное копирование и восстановление данных
 - [ ] Мониторинг и логгирование ошибок, произовадельности, состояния бота. (Возможно, prometheus+grafana)
 - [ ] Автотесты
